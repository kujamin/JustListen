<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/common.css" />
    <link rel="stylesheet" href="css/intro.css" />
    <title>Just Listen-intro0000</title>
  </head>
  <body>
    <header class="header">HEADER</header>
    <div class="container intro_Container">
      <div class="inner intro_Inner">
        <!-- 1페이지 시작 -->
        <section class="sec01">
          <div class="sec01_Bg">
            <div class="sec01_Logo">
              <p>로고</p>
            </div>
          </div>
        </section>
        <!-- 1페이지 끝-->

        <!-- 2페이지 시작-->
        <section class="sec02">
          <div class="sec02_Img">
            <div class="bubble-Con sec02_bibble"></div>
          </div>
        </section>
        <!-- 2페이지 끝-->

        <!-- 3페이지 시작-->
        <section class="sec03">
          <div class="sec03_Img"></div>
          <div class="bubble-Con sec03_bibble"></div>
        </section>
        <!-- 3페이지 끝-->

        <!-- 4페이지 시작-->
        <section class="sec04">
          <div class="sec04_Img"></div>
          <div class="bubble-Con sec04_bibble"></div>
        </section>
        <!-- 4페이지 끝-->
        <!-- 크레딧 시작-->
        <div class="credit">
          <div class="credit_title">just six project</div>
          <p class="credit_desc">
            강도경 / mmtongsin@gmail.com> <br />
            구자민 / kjmin1124@naver.com <br />
            김주명 / kevin0019@naver.com <br />
            이혜리 / gkfl1207@naver.com <br />
            장태근 / devmeeple@gmail.com
          </p>
        </div>
        <!-- 크레딧 끝-->
      </div>
      <!-- 인트로 이너 끝 -->
    </div>
    <!-- 인트로 컨테이너 끝 -->

    <!-- 풋터시작 -->
    <footer class="footer">
      <div class="foot_Con"></div>
    </footer>
    <!-- 풋터끝 -->

    <script src="js/jquery_3.6.js"></script>
    <script>
      $(function () {
  let didscroll;
  let lastScrollTop = 0;
  const delta = 20;
  const header_height = $(".header").outerHeight();
  const sec01_height = $(".sec01").innerHeight();

  setInterval(function () {
    if (didscroll) {
      scroll_headerEvent();
      didscroll = false;
    }
  }, 500);

  $(window).on("scroll", function () {
    didscroll = true;
  });
  function scroll_headerEvent() {
    const scrollTop = $(this).scrollTop();

    // 미세한 스크롤에는 반응하지 않도록 잡아주기
    // Math.abs 는 음수도 모두 양수로 만들어준다
    // return은 해당 조건문에 적합할 시 다음 조건문까지 가지 않도록 브레이크를 건다
    // 스크롤 차이값이 양,음수 10 이하일 시 sticky조건문으로 가지 않도록 막아둠

    console.log(Math.abs(lastScrollTop - scrollTop));
    if (Math.abs(lastScrollTop - scrollTop) <= delta) {
      return;
    }
    if (scrollTop > lastScrollTop && scrollTop > sec01_height - header_height) {
      // 이전 스크롤보다 내렸을 때 & 섹션1보다 아래로 내려갈 때
      $(".header").addClass("sticky");
    }
    // 이전 스크롤보다 올렸을 때
    else {
      // 스크롤을 끝까지 내렸을때에도 적용하는 법(마지막섹션에서도 스크롤을을 움직일때 안정적으로 적용시키는 법)
      if (scrollTop + $(window).innerHeight() < $(document).innerHeight()) {
        $(".header").removeClass("sticky");
      }
    }

    lastScrollTop = scrollTop;
  }
});
    </script>
  </body>
</html>
